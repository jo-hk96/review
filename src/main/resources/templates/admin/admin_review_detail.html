<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" 
                  xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/admin.css">
    <link rel="stylesheet" href="/css/common.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%2210 0 100 100%22><text y=%22.90em%22 font-size=%2290%22>ğŸ¬</text></svg>"></link>
    <title>ë¦¬ë·°í”ŒëŸ¬ìŠ¤ ê´€ë¦¬ì</title>
   
</head>
<style>
	
/* ëª¨ë‹¬ì°½  */
.modal {
   display: none; 
   position: fixed; 
   z-index: 1000; 
   left: 0;
   top: 0;
   width: 100%; 
   height: 100%; 
   overflow: auto; 
   background-color: rgba(0,0,0,0.4); 
}

/* ëª¨ë‹¬ ë‚´ë¶€  ìŠ¤íƒ€ì¼ */
.modal-content {
	display: flex;            
    flex-direction: column; 
    gap:15px;
    background-color: #fefefe;
    margin: 10% auto; 
    padding: 20px;
    border: 1px solid #888;
    width: 100%; 
    max-width: 500px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

/* ë‹«ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.close-button {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
}

.close-button:hover,
.close-button:focus {
    color: #000;
    text-decoration: none;
    cursor: pointer;
}


</style>


<body>
	<div id="header" th:fragment = "header">
		<div class="nav">
			<ul class="nav1">
				<li><a href="/"><img src="/images/logo.png" alt="logo" class="logoimg"></a></li>
				<li><a href="/Admin/AdminHome">ê´€ë¦¬ì í™ˆ</a></li>
				<li class="emphasis-color"><a href="/logout">ë¡œê·¸ì•„ì›ƒ</a></li>
			</ul>
			<ul class="nav2">
				<li><a href="/Admin/AdminUser">íšŒì›ê´€ë¦¬</a></li>
				<li><a href="/Admin/AdminMovie">ì˜í™”ê´€ë¦¬</a></li>
				<li><a href="/Admin/AdminReview">ë¦¬ë·°ê´€ë¦¬</a></li>
			</ul>
		</div>
	</div>
	
	
	
	
	<div class="list">
		<!-- ìœ ì €ë¦¬ë·°ì‚­ì œì˜¤ë¥˜ -->
		<div th:if="${sucReviewUpdate}">
		    <p th:text="${sucReviewUpdate}"></p>
		</div>
				
				
		<!-- ë¦¬ë·°ì •ë³´ -->	
		<div class="list-title">ë¦¬ë·° ì •ë³´</div>
			<form action="">
				<table class="detail-table">
					<tr>
						<td class="label-td"><label class="labelname">ë¦¬ë·° ë²ˆí˜¸</label></td>
						<td><input type="text" class="inputbar" th:value="${urd.reviewId}" readonly></td>
					</tr>
					<tr>
						<td class="label-td"><label class="labelname">ë‹‰ë„¤ì„</label></td>
						<td><input type="text" class="inputbar" th:value="${urd.nickname}" readonly></td>
					</tr>
					<tr>
						<td class="label-td"><label class="labelname">ì˜í™” ì œëª©</label></td>
						<td><input type="text" class="inputbar" th:value="${urd.title}" readonly></td>
					</tr>
					<tr>
						<td class="label-td"><label class="labelname">ë¦¬ë·° ë‚´ìš©</label></td>
						<td><textarea class="textarea" th:text="${urd.comment}" readonly></textarea>
					</tr>
					<tr>
						<td class="label-td"><label class="labelname">í‰ì </label></td>
						<td><input type="text" class="inputbar" th:value="${urd.rating}" readonly></td>
					</tr>
					<tr>
						<td class="label-td"><label class="labelname">ë“±ë¡ì¼</label></td>
						<td><input type="text" class="inputbar" th:value="${urd.regDate}" readonly></td>
					</tr>
				</table>
				<div class="btn-detail-container">
					<a th:href="@{/Admin/deleteReview(reviewId=${urd.reviewId})}" 
					   onclick="return confirm('ë¦¬ë·°ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.');"
					   class="btn-detail">
					    ì‚­ì œ
					</a>
					<button type="button" class="btn-detail" onclick="openModal('editUserReviewModal')">ìˆ˜ì •</button>
				</div>
			</form>
			
			
	</div>
	
		<!-- íšŒì› ë¦¬ë·° ìˆ˜ì • ëª¨ë‹¬  -->
		<div id="editUserReviewModal" class="modal">
		    <div class="modal-content">
		        <span class="close-button" onclick="closeModal('editUserReviewModal')">ë‹«ê¸°</span>
		        <h2>íšŒì› ë¦¬ë·° ìˆ˜ì •</h2>
		        <form action = "/Admin/userReviewEdit" method = "POST">
		        	<input type = "hidden" name = "reviewId" th:value ="${urd.reviewId}">
		        	
		            <label for="editTitle">ì˜í™”ì œëª©:</label><br>
		            <input type="text" id="editTitle" name = "title" th:value="${urd.title}"><br>
		            
		            <label for="editComment">ë¦¬ë·°ë‚´ìš©:</label><br>
		            <textarea id="editComment" name = "comment" th:text ="${urd.comment}"></textarea><br>
		            
		            <label for="editRating">í‰ì :</label><br>
		            <input type="text" id="editRating" name = "rating" th:value="${urd.rating}"><br>
		            
		            <button type="submit">ìˆ˜ì •</button>
		        </form>
		    </div>
		</div>
	
	
<script>
    // ëª¨ë‹¬ ì—´ê¸°
    function openModal(modalId) {
        const modal = document.getElementById(modalId);
        if (modal) {
            modal.style.display = 'block';
        }
    }

    // ëª¨ë‹¬ ë‹«ê¸°
    function closeModal(modalId) {
        const modal = document.getElementById(modalId);
        if (modal) {
            modal.style.display = 'none';
        }
    }

    // ëª¨ë‹¬ ë°”ê¹¥ì„ í´ë¦­í•´ë„ ë‹«í˜
    window.onclick = function(event) {
        const modal = document.getElementById('editUserReviewModal');
        if (event.target == modal) {
            modal.style.display = 'none';
        }
    }
</script>	
	
	
</body>
</html>